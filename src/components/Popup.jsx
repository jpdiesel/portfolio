import React, { Component } from "react";
import { Link } from 'react-router-dom';
import "../styles/Popup.css";

export default class Popup extends Component {
  constructor() {
    super()
    this.changePopup = this.changePopup.bind(this);
  }

  changePopup = (action, id) => {
    const { openPopup, closePopup } = this.props;
    if (action === "previous") {
      const previousPopupId = id - 1;
      // console.log(previousPopupId);
      closePopup();
      openPopup(previousPopupId);
    } else if (action === "next") {
      const nextPopupId = id + 1;
      // console.log(nextPopupId);
      closePopup();
      openPopup(nextPopupId);
    }
  }

  render () {
    const rickRoll = "https://www.youtube.com/embed/dQw4w9WgXcQ?si=OTkhZPeUa0AekoUq&autoplay=1"
    const { project, closePopup, projectId } = this.props;
    const techs = project.tecnologias.split(', ');
    const styles = {
      mixBlendMode: 'normal'
    };
    const previous = '<';
    const next = '>';

    return (
      <div className="popup-container">
       <div className="popup-body">
        <div className="upper-line">
          <div></div>
          <h1 className="project-title">{project.titulo}</h1>
          <button className="close-button" onClick={closePopup}>X</button>
        </div>
        <div className="left">
        { projectId < 2 ? null : <p className="previous" onClick={ () => this.changePopup("previous", projectId) }>{previous}</p>}
          <iframe width="390" height="230" src={rickRoll}></iframe>
          <Link className="github" to={{  pathname: project.github_link }} target="_blank">Ver no Github</Link>
        </div>
        <div className="right">
          { projectId > 5 ? null : <p className="next" onClick={ () => this.changePopup("next", projectId) }>{next}</p>}
          <p className="description">{project.descricao}</p>
          <div className="techs">
            <p>Tecnologias utilizadas:</p>
            { techs.map(tech => (
              tech === 'Javascript' ? (
                <svg id="js" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0,0,256,256">
                  <g fill="#ffffff" fillRule="nonzero" stroke="none" strokeWidth="1" strokeLinecap="butt" strokeLinejoin="miter" strokeMiterlimit="10" strokeDasharray="" strokeDashoffset="0" fontFamily="none" fontWeight="none" fontSize="none" textAnchor="none" style={styles}><g transform="scale(5.12,5.12)"><path d="M6.66797,4c-1.46094,0 -2.66797,1.20703 -2.66797,2.66797v36.66406c0,1.46094 1.20703,2.66797 2.66797,2.66797h36.66406c1.46094,0 2.66797,-1.20312 2.66797,-2.66797v-36.66406c0,-1.46094 -1.20312,-2.66797 -2.66797,-2.66797zM6.66797,6h36.66406c0.37109,0 0.66797,0.29688 0.66797,0.66797v36.66406c0,0.37109 -0.29687,0.66797 -0.66797,0.66797h-36.66406c-0.37109,0 -0.66797,-0.29687 -0.66797,-0.66797v-36.66406c0,-0.37109 0.29688,-0.66797 0.66797,-0.66797zM23,23v12.57422c0,1.92969 -0.73047,2.42578 -2,2.42578c-1.32812,0 -2.25,-0.82812 -2.85937,-1.90234l-3.14062,1.90234c0.91016,1.92578 3.14063,4 6.23438,4c3.42188,0 5.76563,-1.82031 5.76563,-5.81641v-13.18359zM35.45313,23c-3.40625,0 -5.58984,2.17969 -5.58984,5.04297c0,3.10547 1.83203,4.57422 4.58594,5.74609l0.95313,0.41016c1.73828,0.76172 2.59766,1.22656 2.59766,2.53516c0,1.08984 -0.82812,1.87891 -2.41016,1.87891c-1.88281,0 -2.77344,-1.27734 -3.58984,-2.61328l-3,2c1.12109,2.21484 3.13281,4 6.67578,4c3.625,0 6.32422,-1.88281 6.32422,-5.31641c0,-3.1875 -1.82812,-4.60547 -5.07422,-5.99609l-0.95312,-0.40625c-1.63672,-0.71094 -2.34766,-1.17187 -2.34766,-2.31641c0,-0.92578 0.71094,-1.63672 1.82813,-1.63672c1.09766,0 1.80078,0.46484 2.45313,1.63672l2.97266,-1.90625c-1.25391,-2.21484 -3,-3.05859 -5.42578,-3.05859z"></path></g></g>
                </svg>
              )
              : null
            )) 
            }
            { techs.map(tech => (
              tech === 'HTML' ? (
                <svg id='html' xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0,0,256,256">
                  <g fill="#ffffff" fillRule="nonzero" stroke="none" strokeWidth="1" strokeLinecap="butt" strokeLinejoin="miter" strokeMiterlimit="10" strokeDasharray="" strokeDashoffset="0" fontFamily="none" fontWeight="none" fontSize="none" textAnchor="none" style={styles}><g transform="scale(5.12,5.12)"><path d="M5.28125,2c-0.51562,0.09375 -0.87109,0.57422 -0.8125,1.09375l3.53125,39.4375c0.04688,0.40234 0.33203,0.73438 0.71875,0.84375l16,4.59375c0.18359,0.05469 0.37891,0.05469 0.5625,0l16,-4.59375c0.38672,-0.10937 0.67188,-0.44141 0.71875,-0.84375l3.53125,-39.4375c0.02734,-0.28125 -0.06641,-0.55859 -0.25781,-0.76953c-0.19141,-0.20703 -0.46094,-0.32422 -0.74219,-0.32422h-39.0625c-0.03125,0 -0.0625,0 -0.09375,0c-0.03125,0 -0.0625,0 -0.09375,0zM6.5625,4h36.875l-3.34375,37.65625l-15.09375,4.28125l-15.09375,-4.28125zM12.53125,10.0625c-0.51562,0.09375 -0.87109,0.57422 -0.8125,1.09375l1.34375,14.78125c0.03125,0.51563 0.45313,0.92188 0.96875,0.9375h15.96875l-0.4375,4.59375l-4.53125,0.96875l-4.59375,-0.96875l-0.15625,-1.625c-0.03125,-0.52734 -0.47266,-0.9375 -1,-0.9375h-4.875c-0.28125,0 -0.55078,0.11719 -0.74219,0.32422c-0.19141,0.21094 -0.28516,0.48828 -0.25781,0.76953l0.5625,6.125c0.03125,0.40234 0.30078,0.75 0.6875,0.875l9.9375,3.03125l0.125,0.03125c0.18359,0.05469 0.37891,0.05469 0.5625,0l10.0625,-3.0625c0.39844,-0.11328 0.68359,-0.46094 0.71875,-0.875l1.3125,-15.03125c0.02734,-0.27734 -0.0625,-0.55078 -0.24609,-0.75781c-0.18359,-0.20703 -0.44531,-0.32812 -0.72266,-0.33594h-17.03125l-0.25,-3.09375h17.71875c0.51953,0.00391 0.95313,-0.39062 1,-0.90625l0.4375,-4.84375c0.02734,-0.28125 -0.06641,-0.55859 -0.25781,-0.76953c-0.19141,-0.20703 -0.46094,-0.32422 -0.74219,-0.32422h-24.5625c-0.0625,-0.00781 -0.125,-0.00781 -0.1875,0zM13.8125,12.0625h22.375l-0.25,2.84375h-17.90625c-0.28125,0 -0.55078,0.11719 -0.74219,0.32422c-0.19141,0.21094 -0.28516,0.48828 -0.25781,0.76953l0.46875,5.09375c0.04688,0.50391 0.46484,0.89453 0.96875,0.90625h16.84375l-1.1875,13.28125l-9.125,2.75l-9.125,-2.75l-0.375,-4.375h2.875l0.125,1.46875c0.03125,0.44141 0.34766,0.80859 0.78125,0.90625l5.5625,1.15625c0.13281,0.02734 0.27344,0.02734 0.40625,0l5.46875,-1.15625c0.43359,-0.09766 0.75,-0.46484 0.78125,-0.90625l0.59375,-6.4375c0.01563,-0.27734 -0.08203,-0.54687 -0.26953,-0.74609c-0.19141,-0.20312 -0.45312,-0.31641 -0.73047,-0.31641h-16.15625z"></path></g></g>
              </svg>
              )
              : null
            )) 
            }
            { techs.map(tech => (
              tech === 'CSS' ? (
                <svg id='css' xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0,0,256,256">
                  <g fill="#ffffff" fillRule="evenodd" stroke="none" strokeWidth="1" strokeLinecap="butt" strokeLinejoin="miter" strokeMiterlimit="10" strokeDasharray="" strokeDashoffset="0" fontFamily="none" fontWeight="none" fontSize="none" textAnchor="none" style={styles}><g transform="scale(5.12,5.12)"><path d="M39,40l-14,4l-14,-4l-3,-34h34c-1,11.33203 -2,22.66797 -3,34zM39.81641,8h-29.63281l2.6875,30.45313l12.12891,3.46875l12.12891,-3.46875zM16.80078,28h4l0.09766,2.5l4.10156,1.39844l4.10156,-1.39844l0.29688,-4.5h-8.79687l-0.20312,-4h9.20313l0.29688,-4h-13.79687l-0.30078,-4h18.30078l-0.5,8l-0.70312,11.5l-7.89844,2.60156l-7.89844,-2.60156z"></path></g></g>
                </svg>
              )
              : null
            )) 
            }
            { techs.map(tech => (
              tech === 'React' ? (
                <svg id='react' xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0,0,256,256">
                  <g fill="#ffffff" fillRule="nonzero" stroke="none" strokeWidth="1" strokeLinecap="butt" strokeLinejoin="miter" strokeMiterlimit="10" strokeDasharray="" strokeDashoffset="0" fontFamily="none" fontWeight="none" fontSize="none" textAnchor="none" style={styles}><g transform="scale(8.53333,8.53333)"><path d="M10.67969,4.18164c-0.611,0 -1.17769,0.13678 -1.67969,0.42578c-1.56887,0.90579 -2.16603,3.11312 -1.84961,5.86133c-2.53769,1.10008 -4.15039,2.71992 -4.15039,4.53125c0,1.81133 1.6127,3.43117 4.15039,4.53125c-0.31626,2.7481 0.28074,4.95554 1.84961,5.86133c0.501,0.289 1.06769,0.42578 1.67969,0.42578c1.30263,0 2.80816,-0.65377 4.32031,-1.77539c1.51228,1.12162 3.01964,1.77539 4.32227,1.77539c0.611,0 1.17769,-0.13678 1.67969,-0.42578c1.56886,-0.90579 2.16602,-3.11315 1.84961,-5.86133c2.53674,-1.10007 4.14844,-2.72031 4.14844,-4.53125c0,-1.81133 -1.6127,-3.43117 -4.15039,-4.53125c0.31626,-2.7481 -0.28074,-4.95554 -1.84961,-5.86133c-0.501,-0.29 -1.06769,-0.42578 -1.67969,-0.42578c-1.30263,0 -2.80816,0.65377 -4.32031,1.77539c-1.51224,-1.12162 -3.01814,-1.77539 -4.32031,-1.77539zM10.67969,5.93164c0.78163,0 1.81527,0.41561 2.9375,1.18555c-0.65982,0.62268 -1.30604,1.33074 -1.92774,2.11914c-1.00837,0.14459 -1.95911,0.35536 -2.83984,0.61914c-0.00473,-0.06108 -0.01593,-0.12517 -0.01953,-0.18555c-0.107,-1.78 0.28392,-3.10688 1.04492,-3.54687c0.225,-0.13 0.48769,-0.19141 0.80469,-0.19141zM19.32031,5.93164c0.316,0 0.57969,0.06141 0.80469,0.19141c0.761,0.439 1.15192,1.76687 1.04492,3.54688c-0.00363,0.06038 -0.01478,0.12447 -0.01953,0.18555c-0.88129,-0.26394 -1.83272,-0.47454 -2.8418,-0.61914c-0.62169,-0.78829 -1.26598,-1.49653 -1.92578,-2.11914c1.12215,-0.76981 2.15627,-1.18555 2.9375,-1.18555zM15,8.22852c0.27108,0.24674 0.54027,0.50752 0.8125,0.79297c-0.26978,-0.00906 -0.53813,-0.02148 -0.8125,-0.02148c-0.27371,0 -0.5414,0.01247 -0.81055,0.02148c0.27199,-0.28515 0.53972,-0.54647 0.81055,-0.79297zM15,10.75c0.82869,0 1.61413,0.04632 2.35938,0.12695c0.45449,0.61774 0.9024,1.27086 1.32227,1.99805c0.40243,0.69703 0.7583,1.41049 1.07227,2.125c-0.31401,0.71494 -0.66959,1.4295 -1.07227,2.12695c-0.41856,0.72509 -0.86536,1.374 -1.31836,1.99023c-0.77157,0.08442 -1.56306,0.13281 -2.36328,0.13281c-0.82869,0 -1.61413,-0.04632 -2.35937,-0.12695c-0.45449,-0.61774 -0.9024,-1.26891 -1.32227,-1.99609c-0.40267,-0.69745 -0.75816,-1.41201 -1.07226,-2.12695c0.31388,-0.71451 0.66983,-1.42797 1.07226,-2.125c0.41872,-0.72509 0.86525,-1.37595 1.31836,-1.99219c0.77157,-0.08442 1.56306,-0.13281 2.36328,-0.13281zM19.74609,11.29102c0.39675,0.09579 0.77816,0.19919 1.13672,0.31445c-0.08123,0.36705 -0.18058,0.74114 -0.29297,1.11914c-0.12868,-0.24147 -0.25347,-0.48371 -0.39258,-0.72461c-0.14313,-0.2478 -0.30202,-0.47044 -0.45117,-0.70898zM10.25195,11.29297c-0.14865,0.23781 -0.30655,0.46002 -0.44922,0.70703c-0.13907,0.24094 -0.26394,0.48311 -0.39258,0.72461c-0.11265,-0.37878 -0.21361,-0.75331 -0.29492,-1.12109c0.36514,-0.11537 0.7456,-0.21753 1.13672,-0.31055zM7.46875,12.24609c0.2107,0.88962 0.50298,1.81182 0.87891,2.75195c-0.37513,0.9379 -0.66618,1.85841 -0.87695,2.74609c-1.74147,-0.84094 -2.7207,-1.88777 -2.7207,-2.74414c0,-0.879 0.95188,-1.88073 2.54688,-2.67773c0.05444,-0.02724 0.11625,-0.04957 0.17188,-0.07617zM22.5293,12.25586c1.74147,0.84094 2.7207,1.88777 2.7207,2.74414c0,0.879 -0.95188,1.88073 -2.54687,2.67773c-0.05444,0.02723 -0.11625,0.04957 -0.17187,0.07617c-0.21082,-0.89014 -0.50071,-1.81321 -0.87695,-2.75391c0.37468,-0.93709 0.66441,-1.8572 0.875,-2.74414zM15,13c-1.105,0 -2,0.895 -2,2c0,1.105 0.895,2 2,2c1.105,0 2,-0.895 2,-2c0,-1.105 -0.895,-2 -2,-2zM9.41016,17.27539c0.12872,0.24156 0.25537,0.48362 0.39453,0.72461c0.14297,0.24762 0.30023,0.47061 0.44922,0.70898c-0.39675,-0.09579 -0.77816,-0.19919 -1.13672,-0.31445c0.08129,-0.36728 0.18048,-0.7409 0.29297,-1.11914zM20.58984,17.27734c0.11252,0.37842 0.21367,0.75171 0.29492,1.11914c-0.36514,0.11537 -0.7456,0.21753 -1.13672,0.31055c0.14865,-0.23781 0.30655,-0.46002 0.44922,-0.70703c0.13878,-0.24044 0.26418,-0.48166 0.39258,-0.72266zM8.84961,20.14453c0.88129,0.26394 1.83272,0.47454 2.8418,0.61914c0.62188,0.78867 1.26568,1.49826 1.92578,2.12109c-1.12215,0.76972 -2.15592,1.18555 -2.9375,1.18555c-0.316,0 -0.57969,-0.06336 -0.80469,-0.19336c-0.761,-0.439 -1.15192,-1.76492 -1.04492,-3.54492c0.00366,-0.06101 0.01472,-0.12578 0.01953,-0.1875zM21.15039,20.14453c0.00479,0.06172 0.01589,0.12649 0.01953,0.1875c0.107,1.78 -0.28392,3.10492 -1.04492,3.54492c-0.225,0.13 -0.48769,0.19336 -0.80469,0.19336c-0.78158,0 -1.81535,-0.4157 -2.9375,-1.18555c0.66015,-0.6229 1.30573,-1.33231 1.92773,-2.12109c1.00837,-0.14459 1.95911,-0.35536 2.83984,-0.61914zM14.1875,20.97852c0.26978,0.00906 0.53813,0.02148 0.8125,0.02148c0.27437,0 0.54272,-0.01242 0.8125,-0.02148c-0.27223,0.28545 -0.54142,0.54625 -0.8125,0.79297c-0.27108,-0.24674 -0.54027,-0.50752 -0.8125,-0.79297z"></path></g></g>
                </svg>
              )
              : null
            )) 
            }
          </div>
          <p className="release-date">Feito em {project.data_de_realizacao}</p>
        </div>
       </div>
      </div>
    );
  }
};